import{d as B,B as E,T as j,H as v,c as i,a as n,b as e,e as _,k as L,w as o,F as h,o as s,Z as N,f as $,t as r,h as c,r as O,g as y,ab as b,_ as k,j as R,m as U,a2 as D}from"./app.17a8bbe4.js";import{_ as F}from"./Minimal.d56ea1c0.js";import{_ as S}from"./Panel.1e5e6be2.js";import{_ as T}from"./Flex.4b1efe4e.js";import"./UserMenu.1170533d.js";import"./DropdownItem.409573e1.js";import"./Avatar.0b768219.js";import"./PencilSquare.b8b4716b.js";import"./Badge.82f1358a.js";const q={class:"w-full sm:max-w-lg mx-auto"},x=["onSubmit"],A={key:0},H={key:1},M={for:"code"},P={for:"recovery_code"},Y=B({layout:F}),te=Object.assign(Y,{__name:"TwoFactorLogin",setup(Z){U("routePrefix");const m="code",g="recovery_code",u=E(m),a=j({code:"",recovery_code:""}),f=v(()=>u.value===m),p=v(()=>u.value===g),C=()=>{u.value=m},w=()=>{u.value=g},V=()=>{a.post(route("mixpost.two-factor.login"))};return(t,d)=>(s(),i(h,null,[n(e(N),{title:t.$t("auth.sign_in")},null,8,["title"]),_("div",q,[_("form",{onSubmit:L(V,["prevent"])},[n(S,null,{title:o(()=>[$(r(t.$t("auth.two_factor_authentication")),1)]),description:o(()=>[e(f)?(s(),i("span",A,r(t.$t("auth.confirm_access_authentication_code")),1)):c("",!0),e(p)?(s(),i("span",H,r(t.$t("auth.confirm_access_emergency_codes")),1)):c("",!0)]),default:o(()=>[(s(!0),i(h,null,O(e(a).errors,l=>(s(),y(D,{message:l,class:"mb-xs"},null,8,["message"]))),256)),e(f)?(s(),y(k,{key:0},{title:o(()=>[_("label",M,r(t.$t("profile.code")),1)]),default:o(()=>[n(b,{modelValue:e(a).code,"onUpdate:modelValue":d[0]||(d[0]=l=>e(a).code=l),type:"text",id:"code",class:"w-full",autofocus:"",required:""},null,8,["modelValue"])]),_:1})):c("",!0),e(p)?(s(),y(k,{key:1},{title:o(()=>[_("label",P,r(t.$t("auth.recovery_code")),1)]),default:o(()=>[n(b,{modelValue:e(a).recovery_code,"onUpdate:modelValue":d[1]||(d[1]=l=>e(a).recovery_code=l),type:"text",id:"recovery_code",class:"w-full",autofocus:"",required:""},null,8,["modelValue"])]),_:1})):c("",!0),n(T,{class:"justify-between mt-lg"},{default:o(()=>[n(R,{disabled:e(a).processing,isLoading:e(a).processing,type:"submit"},{default:o(()=>[$(r(t.$t("auth.login")),1)]),_:1},8,["disabled","isLoading"]),e(f)?(s(),i("div",{key:0,onClick:w,role:"button",class:"link-primary"},r(t.$t("auth.use_recovery_code")),1)):c("",!0),e(p)?(s(),i("div",{key:1,onClick:C,role:"button",class:"link-primary"},r(t.$t("auth.use_authentication_code")),1)):c("",!0)]),_:1})]),_:1})],40,x)])],64))}});export{te as default};
