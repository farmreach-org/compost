import{m as v,o as c,g as u,w as a,e,a as o,t as r,b as t,i as y,p as q,c as w,B as I,f as p,ab as R,_ as G,j as V,h as m,A as H,n as E,U as M,S as X,y as K,u as O,T as Q,H as Z,af as J,F as D,r as W,ac as ee,ce as se,cf as te,Z as oe,R as ae,a8 as ne,a0 as N,a1 as re,N as ce,l as ie,aG as le,Q as ue}from"./app.17a8bbe4.js";import{_ as de}from"./PageHeader.cbe4fcaf.js";import{_ as pe}from"./Panel.1e5e6be2.js";import{_ as _e}from"./Account.137965b4.js";import{T as fe,F as me,M as ve,I as he,Y as ge,P as xe,_ as j}from"./ProviderIcon.950fa870.js";import{_ as L,a as ke}from"./DropdownItem.409573e1.js";import{E as $e}from"./EllipsisVertical.4969c8de.js";import{R as be}from"./Refresh.b96d0217.js";import{T as we}from"./Trash.0f2ffd20.js";import{P as ye}from"./PencilSquare.b8b4716b.js";import{_ as Ce}from"./AlertUnconfiguredService.5fc7c823.js";import{_ as Ae}from"./Alert.43894852.js";import{_ as Ie}from"./Flex.4b1efe4e.js";import"./ExclamationCircle.dd1367ec.js";import"./Avatar.0b768219.js";const Pe={class:"flex mr-4"},Se={class:"flex flex-col items-start"},Te=e("span",{class:"font-semibold"},"X",-1),Fe={__name:"AddTwitterAccount",setup(_){const s=v("workspaceCtx");return(n,l)=>(c(),u(t(y),{href:n.route("mixpost.accounts.add",{workspace:t(s).id,provider:"twitter"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",Pe,[o(fe,{class:"text-twitter"})]),e("span",Se,[Te,e("span",null,r(n.$t("service.twitter.connect_profile")),1)])]),_:1},8,["href"]))}},Le={class:"flex mr-4"},Ve={class:"flex flex-col items-start"},Me=e("span",{class:"font-semibold"},"Facebook Page",-1),je={__name:"AddFacebookPage",setup(_){const s=v("workspaceCtx");return(n,l)=>(c(),u(t(y),{href:n.route("mixpost.accounts.add",{workspace:t(s).id,provider:"facebook_page"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-facebook hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",Le,[o(me,{class:"text-facebook"})]),e("span",Ve,[Me,e("span",null,r(n.$t("service.facebook.connect_page")),1)])]),_:1},8,["href"]))}},Be={},De={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},Ne=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"},null,-1),Re=[Ne];function Ee(_,s){return c(),w("svg",De,Re)}const ze=q(Be,[["render",Ee]]),Ye={class:"flex mr-md"},Ue={class:"flex flex-col items-start"},qe=e("span",{class:"font-semibold"},"Mastodon",-1),Ge={key:0,class:"px-lg py-md"},He={class:"mr-xs"},Xe={__name:"AddMastodonAccount",setup(_){const s=v("workspaceCtx"),{notify:n}=E(),l=I(!1),g=I(""),x=I(!1),P=()=>new Promise((f,$)=>{axios.post(route("mixpost.services.createMastodonApp"),{server:g.value}).then(()=>{f()}).catch(function(A){$(A)})}),C=()=>{l.value=!0,M.post(route("mixpost.accounts.add",{workspace:s.id,provider:"mastodon"}),{server:g.value},{onSuccess(){l.value=!1}})},k=async()=>{l.value=!0,await P().then(()=>{C()}).catch(f=>{if(f.response.status!==422){n("error",f.response.data.message);return}n("error",f.response.data.errors)}).finally(()=>{l.value=!1})};return(f,$)=>(c(),w("div",{class:H({"bg-mastodon bg-opacity-20":x.value})},[e("div",{role:"button",onClick:$[0]||($[0]=A=>x.value=!x.value),type:"button",class:"w-full flex items-center px-lg py-md hover:bg-mastodon hover:bg-opacity-20 ease-in-out duration-200"},[e("span",Ye,[o(ve,{class:"text-mastodon"})]),e("span",Ue,[qe,e("span",null,r(f.$t("service.mastodon.connect_profile")),1)])]),x.value?(c(),w("div",Ge,[o(G,null,{title:a(()=>[p(r(f.$t("service.mastodon.enter_server")),1)]),default:a(()=>[o(R,{type:"text",modelValue:g.value,"onUpdate:modelValue":$[1]||($[1]=A=>g.value=A),placeholder:"example.server"},null,8,["modelValue"])]),_:1}),o(V,{onClick:k,disabled:!g.value||l.value,isLoading:l.value,class:"mt-xs md:mt-0"},{default:a(()=>[e("span",He,r(f.$t("general.next")),1),e("span",null,[o(ze,{class:"!w-5 !h-5"})])]),_:1},8,["disabled","isLoading"])])):m("",!0)],2))}},Ke={class:"flex mr-4"},Oe={class:"flex flex-col items-start"},Qe=e("span",{class:"font-semibold"},"Instagram",-1),Ze={__name:"AddInstagramAccount",setup(_){const s=v("workspaceCtx");return(n,l)=>(c(),u(t(y),{href:n.route("mixpost.accounts.add",{workspace:t(s).id,provider:"instagram"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",Ke,[o(he,{class:"text-instagram"})]),e("span",Oe,[Qe,e("span",null,r(n.$t("service.instagram.connect_account")),1)])]),_:1},8,["href"]))}},Je={class:"flex mr-sm"},We={class:"flex flex-col items-start"},es=e("span",{class:"font-semibold"},"YouTube",-1),ss={__name:"AddYoutubeAccount",setup(_){const s=v("workspaceCtx");return(n,l)=>(c(),u(t(y),{href:n.route("mixpost.accounts.add",{workspace:t(s).id,provider:"youtube"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",Je,[o(ge,{class:"text-youtube"})]),e("span",We,[es,e("span",null,r(n.$t("service.youtube.connect_profile")),1)])]),_:1},8,["href"]))}},ts={class:"flex mr-4"},os={class:"flex flex-col items-start"},as=e("span",{class:"font-semibold"},"Pinterest",-1),ns={__name:"AddPinterestAccount",setup(_){const s=v("workspaceCtx");return(n,l)=>(c(),u(t(y),{href:n.route("mixpost.accounts.add",{workspace:t(s).id,provider:"pinterest"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",ts,[o(xe,{class:"text-pinterest"})]),e("span",os,[as,e("span",null,r(n.$t("service.pinterest.connect_profile")),1)])]),_:1},8,["href"]))}},rs={class:"flex mr-4"},cs={class:"flex flex-col items-start"},is=e("span",{class:"font-semibold"},"LinkedIn Profile",-1),ls={__name:"AddLinkedinProfile",setup(_){const s=v("workspaceCtx");return(n,l)=>(c(),u(t(y),{href:n.route("mixpost.accounts.add",{workspace:t(s).id,provider:"linkedin"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",rs,[o(j,{provider:"linkedin"})]),e("span",cs,[is,e("span",null,r(n.$t("service.linkedin.connect_profile")),1)])]),_:1},8,["href"]))}},us={class:"flex mr-4"},ds={class:"flex flex-col items-start"},ps=e("span",{class:"font-semibold"},"LinkedIn Page",-1),_s={__name:"AddLinkedinPage",setup(_){const s=v("workspaceCtx");return(n,l)=>(c(),u(t(y),{href:n.route("mixpost.accounts.add",{workspace:t(s).id,provider:"linkedin_page"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",us,[o(j,{provider:"linkedin"})]),e("span",ds,[ps,e("span",null,r(n.$t("service.linkedin.connect_page")),1)])]),_:1},8,["href"]))}},fs={class:"flex mr-4"},ms={class:"flex flex-col items-start"},vs=e("span",{class:"font-semibold"},"TikTok",-1),hs={__name:"AddTikTokAccount",setup(_){const s=v("workspaceCtx");return(n,l)=>(c(),u(t(y),{href:n.route("mixpost.accounts.add",{workspace:t(s).id,provider:"tiktok"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",fs,[o(j,{provider:"tiktok"})]),e("span",ms,[vs,e("span",null,r(n.$t("service.tiktok.connect_profile")),1)])]),_:1},8,["href"]))}},gs={class:"flex items-center justify-center h-full border border-primary-800 rounded-lg hover:border-primary-500 hover:text-primary-500 transition-colors ease-in-out duration-200"},xs={class:"p-lg"},ks={class:"flex flex-col justify-center items-center"},$s={class:"mt-xs text-lg"},bs={__name:"GridAddElement",setup(_){return(s,n)=>(c(),w("span",gs,[e("span",xs,[e("span",ks,[o(X,{class:"w-7 h-7"}),e("span",$s,[K(s.$slots,"default")])])])]))}},ws={class:"w-full mx-auto row-py"},ys={class:"mt-lg row-px w-full"},Cs={key:0,class:"mb-md"},As=["href"],Is={class:"w-full grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 2xl:grid-cols-5 gap-6"},Ps={class:"flex flex-col justify-center relative"},Ss={key:0,class:"absolute top-0 left-0"},Ts={class:"w-md h-md bg-red-500 rounded-full"},Fs={class:"mt-sm font-semibold text-center break-words"},Ls={class:"mt-1 text-center text-stone-800"},Vs={class:"absolute top-0 right-0 mt-sm mr-sm"},Ms={class:"mt-xs"},js={class:"flex flex-col"},Zs={__name:"Accounts",setup(_){const{t:s}=O(),n=v("workspaceCtx"),l=v("routePrefix"),g=s("account.accounts"),{notify:x}=E(),P=I(!1),C=I(null),k=I(!1),f=i=>{M.put(route("mixpost.accounts.update",{workspace:n.id,account:i}),{},{preserveScroll:!0,onSuccess(b){b.props.flash.error||x("success",s("account.account_updated"))}})},$=()=>{M.delete(route(`${l}.accounts.delete`,{workspace:n.id,account:C.value}),{preserveScroll:!0,onStart(){k.value=!0},onSuccess(){C.value=null,x("success",s("account.account_deleted"))},onFinish(){k.value=!1}})},A=()=>{k.value||(C.value=null)},S=I(!1),h=Q({uuid:null,name:""}),z=i=>{S.value=!0,h.uuid=i.uuid,h.name=i.suffix},T=()=>{S.value=null,h.reset()},Y=()=>{h.put(route(`${l}.accounts.updateSuffix`,{workspace:n.id,account:h.uuid}),{onSuccess(){T()}})},F=Z(()=>ce().props.errors);return J(()=>F.value,()=>{ie.exports.isEmpty(F.value)||x("error",le(F.value))}),(i,b)=>{const U=ue("tooltip");return c(),w(D,null,[o(t(oe),{title:t(g)},null,8,["title"]),e("div",ws,[o(de,{title:t(g)},{description:a(()=>[p(r(t(s)("account.connect_social_account")),1)]),_:1},8,["title"]),e("div",ys,[o(Ce,{isConfigured:i.$page.props.is_configured_service},null,8,["isConfigured"]),!i.$page.props.is_service_active.twitter&&i.$page.props.enterprise_config.workspace_twitter_service?(c(),w("div",Cs,[o(Ae,{variant:"warning",closeable:!1},{default:a(()=>[e("p",null,r(t(s)("service.not_configured_service",{service:"X"})),1)]),_:1}),o(Ie,null,{default:a(()=>[e("a",{href:`/${i.$page.props.mixpost.core_path}/${t(n).id}/workspace-services?redirect-to-accounts=true`,class:"mt-md block"},[o(V,null,{default:a(()=>[p(r(t(s)("service.configure_services")),1)]),_:1})],8,As)]),_:1})])):m("",!0),e("div",Is,[e("button",{onClick:b[0]||(b[0]=d=>P.value=!0)},[o(bs,null,{default:a(()=>[p(r(t(s)("account.add_account")),1)]),_:1})]),(c(!0),w(D,null,W(i.$page.props.accounts,d=>(c(),u(pe,{key:d.id,class:"relative"},{default:a(()=>[e("div",Ps,[o(_e,{size:"lg","img-url":d.image,provider:d.provider,name:d.name,active:!0},null,8,["img-url","provider","name"]),d.authorized?m("",!0):(c(),w("div",Ss,[ae(e("div",Ts,null,512),[[U,t(s)("account.unauthorized")]])])),e("div",Fs,r(d.name),1),e("div",Ls,r(t(s)("account.added"))+" "+r(d.created_at),1)]),e("div",Vs,[o(ke,{"width-classes":"w-42"},{trigger:a(()=>[o(ne,null,{default:a(()=>[o($e)]),_:1})]),content:a(()=>[o(L,{onClick:B=>f(d.uuid),as:"button"},{icon:a(()=>[o(be)]),default:a(()=>[p(" "+r(t(s)("general.update")),1)]),_:2},1032,["onClick"]),o(L,{onClick:B=>z(d),as:"button"},{icon:a(()=>[o(ye)]),default:a(()=>[p(" "+r(t(s)("account.edit_suffix")),1)]),_:2},1032,["onClick"]),o(L,{onClick:B=>C.value=d.uuid,as:"button"},{icon:a(()=>[o(we,{class:"text-red-500"})]),default:a(()=>[p(" "+r(t(s)("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)])]),_:2},1024))),128))])])]),o(ee,{show:S.value,"max-width":"sm",closeable:!0,"scrollable-body":!0,onClose:T},{header:a(()=>[p(r(t(s)("account.edit_account_suffix")),1)]),body:a(()=>[e("div",Ms,[o(R,{type:"text",modelValue:t(h).name,"onUpdate:modelValue":b[1]||(b[1]=d=>t(h).name=d),placeholder:t(s)("account.enter_suffix")},null,8,["modelValue","placeholder"])])]),footer:a(()=>[o(N,{onClick:T,class:"mr-xs"},{default:a(()=>[p(r(t(s)("general.close")),1)]),_:1}),o(V,{onClick:Y,isLoading:t(h).processing,disabled:t(h).processing},{default:a(()=>[p(r(t(s)("general.save")),1)]),_:1},8,["isLoading","disabled"])]),_:1},8,["show"]),o(se,{show:C.value!==null,onClose:A,variant:"danger"},{header:a(()=>[p(r(t(s)("account.delete_account")),1)]),body:a(()=>[p(r(t(s)("account.confirm_delete_account")),1)]),footer:a(()=>[o(N,{onClick:A,disabled:k.value,class:"mr-xs"},{default:a(()=>[p(r(t(s)("general.cancel")),1)]),_:1},8,["disabled"]),o(re,{onClick:$,"is-loading":k.value,disabled:k.value},{default:a(()=>[p(r(t(s)("general.delete")),1)]),_:1},8,["is-loading","disabled"])]),_:1},8,["show"]),o(te,{show:P.value,closeable:!0,onClose:b[2]||(b[2]=d=>P.value=!1)},{default:a(()=>[e("div",js,[i.$page.props.is_service_active.facebook?(c(),u(je,{key:0})):m("",!0),i.$page.props.is_service_active.facebook?(c(),u(Ze,{key:1})):m("",!0),o(Xe),i.$page.props.is_service_active.google?(c(),u(ss,{key:2})):m("",!0),i.$page.props.is_service_active.pinterest?(c(),u(ns,{key:3})):m("",!0),i.$page.props.is_service_active.linkedin?(c(),u(ls,{key:4})):m("",!0),i.$page.props.is_service_active.linkedin&&i.$page.props.additionally.linkedin_supports_pages?(c(),u(_s,{key:5})):m("",!0),i.$page.props.is_service_active.tiktok?(c(),u(hs,{key:6})):m("",!0),i.$page.props.is_service_active.twitter?(c(),u(Fe,{key:7})):m("",!0)])]),_:1},8,["show"])],64)}}};export{Zs as default};
