import{m as v,o as c,g as u,w as a,e,a as o,t as r,b as t,i as y,p as q,c as w,I,f as p,aa as B,_ as H,j as V,h as m,H as X,n as E,ak as j,a4 as G,A as K,u as O,T as Z,N as J,ae as Q,F as N,r as W,ab as ee,cl as se,cm as te,Z as oe,S as ae,a6 as ne,af as F,aj as re,ag as ce,R,U as ie,ao as le,l as ue,aL as de,Y as pe}from"./app.af17fce1.js";import{_ as _e}from"./PageHeader.fa50e47e.js";import{_ as fe}from"./Panel.46137120.js";import{_ as me}from"./Account.af37e9ec.js";import{T as ve,F as he,M as ge,I as xe,Y as ke,P as $e,_ as M}from"./ProviderIcon.5b8afea0.js";import{E as be}from"./EllipsisVertical.42e3e8f4.js";import{R as we}from"./Refresh.b194524c.js";import{T as ye}from"./Trash.ee5d54c5.js";import{_ as Ce}from"./AlertUnconfiguredService.8729add1.js";import{_ as Ae}from"./Alert.4b0fccab.js";import{_ as Ie}from"./Flex.16a0de6f.js";import"./ExclamationCircle.2dc7440a.js";const Se={class:"flex mr-4"},Pe={class:"flex flex-col items-start"},Le=e("span",{class:"font-semibold"},"X",-1),Te={__name:"AddTwitterAccount",setup(_){const s=v("workspaceCtx");return(n,l)=>(c(),u(t(y),{href:n.route("mixpost.accounts.add",{workspace:t(s).id,provider:"twitter"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",Se,[o(ve,{class:"text-twitter"})]),e("span",Pe,[Le,e("span",null,r(n.$t("service.twitter.connect_profile")),1)])]),_:1},8,["href"]))}},Fe={class:"flex mr-4"},Ve={class:"flex flex-col items-start"},je=e("span",{class:"font-semibold"},"Facebook Page",-1),Me={__name:"AddFacebookPage",setup(_){const s=v("workspaceCtx");return(n,l)=>(c(),u(t(y),{href:n.route("mixpost.accounts.add",{workspace:t(s).id,provider:"facebook_page"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-facebook hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",Fe,[o(he,{class:"text-facebook"})]),e("span",Ve,[je,e("span",null,r(n.$t("service.facebook.connect_page")),1)])]),_:1},8,["href"]))}},De={},Ne={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},Re=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"},null,-1),Be=[Re];function Ee(_,s){return c(),w("svg",Ne,Be)}const Ye=q(De,[["render",Ee]]),ze={class:"flex mr-md"},Ue={class:"flex flex-col items-start"},qe=e("span",{class:"font-semibold"},"Mastodon",-1),He={key:0,class:"px-lg py-md"},Xe={class:"mr-xs"},Ge={__name:"AddMastodonAccount",setup(_){const s=v("workspaceCtx"),{notify:n}=E(),l=I(!1),g=I(""),x=I(!1),S=()=>new Promise((f,$)=>{axios.post(route("mixpost.services.createMastodonApp"),{server:g.value}).then(()=>{f()}).catch(function(A){$(A)})}),C=()=>{l.value=!0,j.post(route("mixpost.accounts.add",{workspace:s.id,provider:"mastodon"}),{server:g.value},{onSuccess(){l.value=!1}})},k=async()=>{l.value=!0,await S().then(()=>{C()}).catch(f=>{if(f.response.status!==422){n("error",f.response.data.message);return}n("error",f.response.data.errors)}).finally(()=>{l.value=!1})};return(f,$)=>(c(),w("div",{class:X({"bg-mastodon bg-opacity-20":x.value})},[e("div",{role:"button",onClick:$[0]||($[0]=A=>x.value=!x.value),type:"button",class:"w-full flex items-center px-lg py-md hover:bg-mastodon hover:bg-opacity-20 ease-in-out duration-200"},[e("span",ze,[o(ge,{class:"text-mastodon"})]),e("span",Ue,[qe,e("span",null,r(f.$t("service.mastodon.connect_profile")),1)])]),x.value?(c(),w("div",He,[o(H,null,{title:a(()=>[p(r(f.$t("service.mastodon.enter_server")),1)]),default:a(()=>[o(B,{type:"text",modelValue:g.value,"onUpdate:modelValue":$[1]||($[1]=A=>g.value=A),placeholder:"example.server"},null,8,["modelValue"])]),_:1}),o(V,{onClick:k,disabled:!g.value||l.value,isLoading:l.value,class:"mt-xs md:mt-0"},{default:a(()=>[e("span",Xe,r(f.$t("general.next")),1),e("span",null,[o(Ye,{class:"!w-5 !h-5"})])]),_:1},8,["disabled","isLoading"])])):m("",!0)],2))}},Ke={class:"flex mr-4"},Oe={class:"flex flex-col items-start"},Ze=e("span",{class:"font-semibold"},"Instagram",-1),Je={__name:"AddInstagramAccount",setup(_){const s=v("workspaceCtx");return(n,l)=>(c(),u(t(y),{href:n.route("mixpost.accounts.add",{workspace:t(s).id,provider:"instagram"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",Ke,[o(xe,{class:"text-instagram"})]),e("span",Oe,[Ze,e("span",null,r(n.$t("service.instagram.connect_account")),1)])]),_:1},8,["href"]))}},Qe={class:"flex mr-sm"},We={class:"flex flex-col items-start"},es=e("span",{class:"font-semibold"},"YouTube",-1),ss={__name:"AddYoutubeAccount",setup(_){const s=v("workspaceCtx");return(n,l)=>(c(),u(t(y),{href:n.route("mixpost.accounts.add",{workspace:t(s).id,provider:"youtube"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",Qe,[o(ke,{class:"text-youtube"})]),e("span",We,[es,e("span",null,r(n.$t("service.youtube.connect_profile")),1)])]),_:1},8,["href"]))}},ts={class:"flex mr-4"},os={class:"flex flex-col items-start"},as=e("span",{class:"font-semibold"},"Pinterest",-1),ns={__name:"AddPinterestAccount",setup(_){const s=v("workspaceCtx");return(n,l)=>(c(),u(t(y),{href:n.route("mixpost.accounts.add",{workspace:t(s).id,provider:"pinterest"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",ts,[o($e,{class:"text-pinterest"})]),e("span",os,[as,e("span",null,r(n.$t("service.pinterest.connect_profile")),1)])]),_:1},8,["href"]))}},rs={class:"flex mr-4"},cs={class:"flex flex-col items-start"},is=e("span",{class:"font-semibold"},"LinkedIn Profile",-1),ls={__name:"AddLinkedinProfile",setup(_){const s=v("workspaceCtx");return(n,l)=>(c(),u(t(y),{href:n.route("mixpost.accounts.add",{workspace:t(s).id,provider:"linkedin"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",rs,[o(M,{provider:"linkedin"})]),e("span",cs,[is,e("span",null,r(n.$t("service.linkedin.connect_profile")),1)])]),_:1},8,["href"]))}},us={class:"flex mr-4"},ds={class:"flex flex-col items-start"},ps=e("span",{class:"font-semibold"},"LinkedIn Page",-1),_s={__name:"AddLinkedinPage",setup(_){const s=v("workspaceCtx");return(n,l)=>(c(),u(t(y),{href:n.route("mixpost.accounts.add",{workspace:t(s).id,provider:"linkedin_page"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",us,[o(M,{provider:"linkedin"})]),e("span",ds,[ps,e("span",null,r(n.$t("service.linkedin.connect_page")),1)])]),_:1},8,["href"]))}},fs={class:"flex mr-4"},ms={class:"flex flex-col items-start"},vs=e("span",{class:"font-semibold"},"TikTok",-1),hs={__name:"AddTikTokAccount",setup(_){const s=v("workspaceCtx");return(n,l)=>(c(),u(t(y),{href:n.route("mixpost.accounts.add",{workspace:t(s).id,provider:"tiktok"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter hover:bg-opacity-20 ease-in-out duration-200"},{default:a(()=>[e("span",fs,[o(M,{provider:"tiktok"})]),e("span",ms,[vs,e("span",null,r(n.$t("service.tiktok.connect_profile")),1)])]),_:1},8,["href"]))}},gs={class:"flex items-center justify-center h-full border border-primary-800 rounded-lg hover:border-primary-500 hover:text-primary-500 transition-colors ease-in-out duration-200"},xs={class:"p-lg"},ks={class:"flex flex-col justify-center items-center"},$s={class:"mt-xs text-lg"},bs={__name:"GridAddElement",setup(_){return(s,n)=>(c(),w("span",gs,[e("span",xs,[e("span",ks,[o(G,{class:"w-7 h-7"}),e("span",$s,[K(s.$slots,"default")])])])]))}},ws={class:"w-full mx-auto row-py"},ys={class:"mt-lg row-px w-full"},Cs={key:0,class:"mb-md"},As=["href"],Is={class:"w-full grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 2xl:grid-cols-5 gap-6"},Ss={class:"flex flex-col justify-center relative"},Ps={key:0,class:"absolute top-0 left-0"},Ls={class:"w-md h-md bg-red-500 rounded-full"},Ts={class:"mt-sm font-semibold text-center break-words"},Fs={class:"mt-1 text-center text-stone-800"},Vs={class:"absolute top-0 right-0 mt-sm mr-sm"},js={class:"mt-xs"},Ms={class:"flex flex-col"},Ks={__name:"Accounts",setup(_){const{t:s}=O(),n=v("workspaceCtx"),l=v("routePrefix"),g=s("account.accounts"),{notify:x}=E(),S=I(!1),C=I(null),k=I(!1),f=i=>{j.put(route("mixpost.accounts.update",{workspace:n.id,account:i}),{},{preserveScroll:!0,onSuccess(b){b.props.flash.error||x("success",s("account.account_updated"))}})},$=()=>{j.delete(route(`${l}.accounts.delete`,{workspace:n.id,account:C.value}),{preserveScroll:!0,onStart(){k.value=!0},onSuccess(){C.value=null,x("success",s("account.account_deleted"))},onFinish(){k.value=!1}})},A=()=>{k.value||(C.value=null)},P=I(!1),h=Z({uuid:null,name:""}),Y=i=>{P.value=!0,h.uuid=i.uuid,h.name=i.suffix},L=()=>{P.value=null,h.reset()},z=()=>{h.put(route(`${l}.accounts.updateSuffix`,{workspace:n.id,account:h.uuid}),{onSuccess(){L()}})},T=J(()=>le().props.errors);return Q(()=>T.value,()=>{ue.exports.isEmpty(T.value)||x("error",de(T.value))}),(i,b)=>{const U=pe("tooltip");return c(),w(N,null,[o(t(oe),{title:t(g)},null,8,["title"]),e("div",ws,[o(_e,{title:t(g)},{description:a(()=>[p(r(t(s)("account.connect_social_account")),1)]),_:1},8,["title"]),e("div",ys,[o(Ce,{isConfigured:i.$page.props.is_configured_service},null,8,["isConfigured"]),!i.$page.props.is_service_active.twitter&&i.$page.props.enterprise_config.workspace_twitter_service?(c(),w("div",Cs,[o(Ae,{variant:"warning",closeable:!1},{default:a(()=>[e("p",null,r(t(s)("service.not_configured_service",{service:"X"})),1)]),_:1}),o(Ie,null,{default:a(()=>[e("a",{href:`/${i.$page.props.mixpost.core_path}/${t(n).id}/workspace-services?redirect-to-accounts=true`,class:"mt-md block"},[o(V,null,{default:a(()=>[p(r(t(s)("service.configure_services")),1)]),_:1})],8,As)]),_:1})])):m("",!0),e("div",Is,[e("button",{onClick:b[0]||(b[0]=d=>S.value=!0)},[o(bs,null,{default:a(()=>[p(r(t(s)("account.add_account")),1)]),_:1})]),(c(!0),w(N,null,W(i.$page.props.accounts,d=>(c(),u(fe,{key:d.id,class:"relative"},{default:a(()=>[e("div",Ss,[o(me,{size:"lg","img-url":d.image,provider:d.provider,name:d.name,active:!0},null,8,["img-url","provider","name"]),d.authorized?m("",!0):(c(),w("div",Ps,[ae(e("div",Ls,null,512),[[U,t(s)("account.unauthorized")]])])),e("div",Ts,r(d.name),1),e("div",Fs,r(t(s)("account.added"))+" "+r(d.created_at),1)]),e("div",Vs,[o(ce,{"width-classes":"w-42"},{trigger:a(()=>[o(ne,null,{default:a(()=>[o(be)]),_:1})]),content:a(()=>[o(F,{onClick:D=>f(d.uuid),as:"button"},{icon:a(()=>[o(we)]),default:a(()=>[p(" "+r(t(s)("general.update")),1)]),_:2},1032,["onClick"]),o(F,{onClick:D=>Y(d),as:"button"},{icon:a(()=>[o(re)]),default:a(()=>[p(" "+r(t(s)("account.edit_suffix")),1)]),_:2},1032,["onClick"]),o(F,{onClick:D=>C.value=d.uuid,as:"button"},{icon:a(()=>[o(ye,{class:"text-red-500"})]),default:a(()=>[p(" "+r(t(s)("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)])]),_:2},1024))),128))])])]),o(ee,{show:P.value,"max-width":"sm",closeable:!0,"scrollable-body":!0,onClose:L},{header:a(()=>[p(r(t(s)("account.edit_account_suffix")),1)]),body:a(()=>[e("div",js,[o(B,{type:"text",modelValue:t(h).name,"onUpdate:modelValue":b[1]||(b[1]=d=>t(h).name=d),placeholder:t(s)("account.enter_suffix")},null,8,["modelValue","placeholder"])])]),footer:a(()=>[o(R,{onClick:L,class:"mr-xs"},{default:a(()=>[p(r(t(s)("general.close")),1)]),_:1}),o(V,{onClick:z,isLoading:t(h).processing,disabled:t(h).processing},{default:a(()=>[p(r(t(s)("general.save")),1)]),_:1},8,["isLoading","disabled"])]),_:1},8,["show"]),o(se,{show:C.value!==null,onClose:A,variant:"danger"},{header:a(()=>[p(r(t(s)("account.delete_account")),1)]),body:a(()=>[p(r(t(s)("account.confirm_delete_account")),1)]),footer:a(()=>[o(R,{onClick:A,disabled:k.value,class:"mr-xs"},{default:a(()=>[p(r(t(s)("general.cancel")),1)]),_:1},8,["disabled"]),o(ie,{onClick:$,"is-loading":k.value,disabled:k.value},{default:a(()=>[p(r(t(s)("general.delete")),1)]),_:1},8,["is-loading","disabled"])]),_:1},8,["show"]),o(te,{show:S.value,closeable:!0,onClose:b[2]||(b[2]=d=>S.value=!1)},{default:a(()=>[e("div",Ms,[i.$page.props.is_service_active.facebook?(c(),u(Me,{key:0})):m("",!0),i.$page.props.is_service_active.facebook?(c(),u(Je,{key:1})):m("",!0),o(Ge),i.$page.props.is_service_active.google?(c(),u(ss,{key:2})):m("",!0),i.$page.props.is_service_active.pinterest?(c(),u(ns,{key:3})):m("",!0),i.$page.props.is_service_active.linkedin?(c(),u(ls,{key:4})):m("",!0),i.$page.props.is_service_active.linkedin&&i.$page.props.additionally.linkedin_supports_pages?(c(),u(_s,{key:5})):m("",!0),i.$page.props.is_service_active.tiktok?(c(),u(hs,{key:6})):m("",!0),i.$page.props.is_service_active.twitter?(c(),u(Te,{key:7})):m("",!0)])]),_:1},8,["show"])],64)}}};export{Ks as default};
