import{d as w,u as $,B as x,C,H as b,c as u,a as t,b as e,e as l,w as a,F as f,o as s,Z as B,r as L,g,f as n,t as r,h,j as N,a1 as T,U as V}from"./app.17a8bbe4.js";import{_ as D,D as I}from"./Admin.fc0f4e28.js";import{_ as j}from"./PageHeader.cbe4fcaf.js";import{_ as F}from"./Panel.1e5e6be2.js";import{T as O,_ as q}from"./Tab.46ca3863.js";import{_ as A}from"./Alert.43894852.js";import{_ as E}from"./Textarea.21a485eb.js";import{_ as H}from"./NoResult.a422d351.js";import"./UserMenu.1170533d.js";import"./DropdownItem.409573e1.js";import"./Avatar.0b768219.js";import"./PencilSquare.b8b4716b.js";import"./Badge.82f1358a.js";import"./QueueList.1a33fea2.js";import"./Flex.4b1efe4e.js";const M={class:"w-full mx-auto row-py"},S={class:"w-full row-px"},U={class:"mt-lg row-px w-full"},Z={class:"mt-md"},z=["href"],G=w({layout:D}),me=Object.assign(G,{__name:"Logs",props:{logs:{required:!0,type:Array}},setup(d){const p=d,{t:m}=$(),v=m("system.system_logs"),i=x(null);C(()=>{p.logs.length&&(i.value=p.logs[0].name)});const o=b(()=>{const c=p.logs.find(y=>y.name===i.value);return c||!1}),k=()=>{V.delete(route("mixpost.system.logs.clear"),{data:{filename:o.value.name}})};return(c,y)=>(s(),u(f,null,[t(e(B),{title:e(v)},null,8,["title"]),l("div",M,[t(j,{title:e(v)},null,8,["title"]),l("div",S,[t(O,null,{default:a(()=>[(s(!0),u(f,null,L(d.logs,_=>(s(),g(q,{key:_.name,onClick:J=>i.value=_.name,active:i.value===_.name},{icon:a(()=>[t(I)]),default:a(()=>[n(" "+r(_.name),1)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),l("div",U,[t(F,{class:"mt-lg"},{default:a(()=>[d.logs.length?(s(),u(f,{key:0},[e(o)?(s(),u(f,{key:0},[e(o).error?(s(),g(A,{key:0,closeable:!1,variant:"warning",class:"mb-md"},{default:a(()=>[n(r(e(o).error),1)]),_:1})):h("",!0),t(E,{value:e(o).contents,class:"h-96",readonly:""},null,8,["value"])],64)):h("",!0),l("div",Z,[l("a",{href:c.route("mixpost.system.logs.download",{filename:e(o).name}),target:"_blank"},[t(N,{class:"mr-xs rtl:mr-0 rtl:ml-xs"},{default:a(()=>[n(r(e(m)("general.download")),1)]),_:1})],8,z),t(T,{onClick:k},{default:a(()=>[n(r(e(m)("general.clean_up")),1)]),_:1})])],64)):(s(),g(H,{key:1},{default:a(()=>[n(r(e(m)("system.there_are_no_logs")),1)]),_:1}))]),_:1})])])],64))}});export{me as default};
