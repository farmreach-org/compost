import{H as M,N as w,p as f,o as r,c as i,e as a,O as N,P,B as D,Q as R,g as m,w as o,a as t,b as e,A as x,t as l,f as h,h as u,F as b,r as S,R as F,S as I,s as C,U as y,n as O}from"./app.17a8bbe4.js";import{_ as p,a as K}from"./DropdownItem.409573e1.js";import{_ as A}from"./Avatar.0b768219.js";import{P as L}from"./PencilSquare.b8b4716b.js";import{_ as T}from"./Badge.82f1358a.js";const U=()=>({enterpriseConsole:M(()=>w().props.mixpost.enterpriseConsole)}),q=()=>({features:M(()=>w().props.mixpost.features)}),Q={},Z={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},G=a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"},null,-1),J=a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),X=[G,J];function Y(d,c){return r(),i("svg",Z,X)}const B=f(Q,[["render",Y]]),ee={},se={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},oe=a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"},null,-1),re=[oe];function te(d,c){return r(),i("svg",se,re)}const ne=f(ee,[["render",te]]),ae={},ie={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},ce=a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0M12 12.75h.008v.008H12v-.008z"},null,-1),le=[ce];function ue(d,c){return r(),i("svg",ie,le)}const de=f(ae,[["render",ue]]),_e={},he={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},pe=a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"},null,-1),me=[pe];function fe(d,c){return r(),i("svg",he,me)}const ke=f(_e,[["render",fe]]),ge={},we={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},ve=a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"},null,-1),$e=[ve];function xe(d,c){return r(),i("svg",we,$e)}const be=f(ge,[["render",xe]]),Ce={role:"button",class:"w-full flex"},ye={class:"truncate"},Ae={class:"text-gray-500 text-sm truncate"},Be={key:0,class:"absolute mt-xs"},Me={key:0,class:"flex flex-wrap items-center gap-xs p-sm max-h-64 overflow-y-auto"},Ve=["onClick"],We=["href"],je={class:"rounded-lg p-0.5 border-2 border-gray-200 group-hover:bg-gray-200 transition-colors ease-in-out duration-200"},ze={class:"w-10 h-10 p-xs"},Fe={__name:"UserMenu",props:{responsive:{type:Boolean,default:!1}},setup(d){const{user:c,impersonating:k,workspaces:g}=N(),{activeWorkspaceId:V,activeWorkspace:v,isWorkspaceAdminRole:W}=P(),{features:j}=q(),{notify:z}=O();D(!1);const $=s=>s===V.value,E=s=>{if(!$(s.uuid)){if(w().component==="Main/ErrorPage"){y.post(route("mixpost.switchWorkspace",{workspace:s.uuid,redirect:!0}));return}y.post(route("mixpost.switchWorkspace",{workspace:s.uuid}),{},{onSuccess(){window.location.replace(route("mixpost.dashboard",{workspace:s.uuid}))},onError(){z("error","Error!")}})}},{enterpriseConsole:n}=U();return console.log({enterpriseConsole:n}),(s,Ee)=>{const H=R("tooltip");return r(),m(K,{"width-classes":"w-64",placement:"top-start"},{trigger:o(()=>[a("div",Ce,[t(A,{name:e(c).name,class:"mr-sm rtl:mr-0 rtl:ml-sm"},null,8,["name"]),a("div",{class:x([{"hidden sm:flex":d.responsive},"flex flex-col w-[calc(100%-3rem)]"])},[a("div",ye,l(e(c).name),1),a("div",Ae,l(e(v)?e(v).name:"Console"),1)],2)]),e(k)?(r(),i("div",Be,[t(T,{variant:"warning"},{default:o(()=>[h(l(s.$t("util.impersonating")),1)]),_:1})])):u("",!0)]),content:o(()=>[e(g).length||e(n).multiple_workspace_enabled?(r(),i("div",Me,[(r(!0),i(b,null,S(e(g),_=>(r(),i("div",{key:_.uuid,onClick:He=>E(_),role:"button",class:"cursor-pointer group"},[a("div",{class:x(["rounded-lg p-0.5 border-2 border-gray-200 group-hover:bg-gray-200 transition-colors ease-in-out duration-200",{"border-primary-500":$(_.uuid)}])},[F(t(A,{backgroundColor:_.hex_color,name:_.name,size:"md",roundedClass:"rounded-lg"},null,8,["backgroundColor","name"]),[[H,_.name]])],2)],8,Ve))),128)),e(n).multiple_workspace_enabled||e(n).url&&!e(g).some(_=>_.owner_id===e(c).id)?(r(),i("a",{key:0,href:e(n).create_workspace_url,class:"group"},[a("div",je,[a("div",ze,[t(I)])])],8,We)):u("",!0)])):u("",!0),!s.$page.props.is_admin_console&&e(W)&&e(n).has_workspace_urls?(r(),i(b,{key:1},[t(C),e(n).workspace_settings_url?(r(),m(p,{key:0,href:e(n).workspace_settings_url,as:"a"},{icon:o(()=>[t(B)]),default:o(()=>[h(" "+l(s.$t("general.settings")),1)]),_:1},8,["href"])):u("",!0),e(n).workspace_billing_url?(r(),m(p,{key:1,href:e(n).workspace_billing_url,as:"a"},{icon:o(()=>[t(ke)]),default:o(()=>[h(" "+l(s.$t("finance.billing")),1)]),_:1},8,["href"])):u("",!0)],64)):u("",!0),t(C),e(c).is_admin?(r(),m(p,{key:2,href:s.route("mixpost.dashboardAdmin")},{icon:o(()=>[t(B)]),default:o(()=>[h(" "+l(s.$t("dashboard.admin_console")),1)]),_:1},8,["href"])):u("",!0),e(c).is_admin&&e(n).url?(r(),m(p,{key:3,href:e(n).url,as:"a"},{icon:o(()=>[t(de)]),default:o(()=>[h(" "+l(s.$t("dashboard.enterprise_console")),1)]),_:1},8,["href"])):u("",!0),t(p,{href:s.route("mixpost.profile.index")},{icon:o(()=>[t(L)]),default:o(()=>[h(" "+l(s.$t("profile.edit_profile")),1)]),_:1},8,["href"]),e(j).api_access_tokens?(r(),m(p,{key:4,href:s.route("mixpost.profile.accessTokens.index")},{icon:o(()=>[t(be)]),default:o(()=>[h(" "+l(s.$t("access_token.access_tokens")),1)]),_:1},8,["href"])):u("",!0),t(p,{href:e(k)?e(n).stop_impersonating_url:s.route("mixpost.logout"),linkAs:"button",linkMethod:e(k)?"delete":"post"},{icon:o(()=>[t(ne)]),default:o(()=>[h(" "+l(s.$t("auth.sign_out")),1)]),_:1},8,["href","linkMethod"])]),_:1})}}};export{de as B,B as C,Fe as _,U as u};
